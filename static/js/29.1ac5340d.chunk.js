/*! For license information please see 29.1ac5340d.chunk.js.LICENSE.txt */
(self.webpackChunksiroca=self.webpackChunksiroca||[]).push([[29],{29:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return I}});var n=r(683),o=r(762),i=r(885),a=r(791);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function s(){s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(_){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=j(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=f(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(_){return{type:"throw",arg:_}}}t.wrap=l;var d={};function h(){}function p(){}function y(){}var v={};u(v,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(k([])));g&&g!==e&&r.call(g,o)&&(v=g);var x=y.prototype=h.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function n(o,i,a,s){var u=f(t[o],t,i);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==c(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(d).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function j(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,d;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=y,u(x,"constructor",y),u(y,"constructor",p),p.displayName=u(y,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,a,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(x),u(x,a,"Generator"),u(x,o,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function u(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(u){return void r(u)}c.done?e(s):Promise.resolve(s).then(n,o)}var l=r(903),f={count:92,page:1,size:20,dataObjects:[{researchPriceId:1898881,researchId:6037,name:"\u041a\u0440\u043e\u0432\u044c. \u041e\u0431\u0449\u0438\u0439 \u0430\u043d\u0430\u043b\u0438\u0437 (\u041e\u0410\u041a)",biomaterialName:"",researchName:null,biomaterialId:null,priceEntityId:6037,price:2,currencyName:"\u0422\u0435\u043d\u0433\u0435",currencyId:1,code:"6037-",id:0},{researchPriceId:691,researchId:6044,name:"\u041a\u0440\u043e\u0432\u044c. LE-\u043a\u043b\u0435\u0442\u043a\u0438. \u041a\u0440\u043e\u0432\u044c \u0441 \u0447\u0435\u0433\u043e \u0442\u043e \u0442\u0430\u043c",biomaterialName:"",researchName:null,biomaterialId:null,priceEntityId:6044,price:35,currencyName:"\u0422\u0435\u043d\u0433\u0435",currencyId:1,code:"6044-",id:0}]},d=l.Z.injectEndpoints({endpoints:function(t){return{getResearchesWithPrices:t.query({query:function(t){return{url:"/orders/researches-with-prices",method:"GET",params:t}}}),getFakeResearchesWithPrices:t.query({queryFn:function(t,e,r,n){return(o=s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){return setTimeout(t,1e3)}));case 2:return t.abrupt("return",{data:f,status:200});case 3:case"end":return t.stop()}}),t)})),function(){var t=this,e=arguments;return new Promise((function(r,n){var i=o.apply(t,e);function a(t){u(i,r,n,a,c,"next",t)}function c(t){u(i,r,n,a,c,"throw",t)}a(void 0)}))})();var o}})}},overrideExisting:!1}),h=d.useGetResearchesWithPricesQuery,p=d.useGetFakeResearchesWithPricesQuery,y=r(504),v=r(184),m=function(){var t=a.useRef(),e=(0,y.lr)(),r=(0,i.Z)(e,2),n=r[0],o=r[1],c=n.get("code");return(0,v.jsx)("input",{ref:t,type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043a\u043e\u0434\u0443 \u0437\u0430\u043a\u0430\u0437\u0430",className:"flex-1 py-1 px-2 outline-none focus:bg-neutral-50 border border-neutral-300",defaultValue:n.get("code"),value:c,onChange:function(t){t.target.value?n.set("code",t.target.value):n.delete("code"),o(n)}})},g=r(694),x=r.n(g),b=function(t){var e=t.loading,r=void 0!==e&&e;return(0,v.jsx)("div",{className:x()("absolute w-full h-full box-border bg-white/80 top-0 left-0 z-20 grid place-items-center",!r&&"hidden"),children:(0,v.jsx)("span",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"})})},w=function(t){var e=t.title,r=t.field,n=(0,y.lr)(),o=(0,i.Z)(n,2),a=o[0],c=o[1],s=a.get("sort_".concat(r));return(0,v.jsx)("th",{className:"p-1 bg-neutral-200 border border-neutral-300",children:(0,v.jsxs)("span",{onClick:function(){var t="asc"===s?"desc":"desc"===s?"":"asc";t?a.set("sort_".concat(r),t):a.delete("sort_".concat(r)),c(a)},className:"flex flex-row justify-between cursor-pointer",children:[e,(0,v.jsx)("span",{className:x()("text-neutral-800",!s&&"opacity-0"),children:"desc"===s?"\u25be":"\u25b4"})]})})},j=function(t){var e=t.columns;return(0,v.jsx)("thead",{children:(0,v.jsx)("tr",{children:a.Children.toArray(e.map((function(t){return(0,v.jsx)(w,(0,n.Z)({},t))})))})})},E=function(t){var e=t.columns,r=t.data,n=t.isError;return(0,v.jsxs)("tbody",{children:[a.Children.toArray(null===r||void 0===r?void 0:r.dataObjects.map((function(t){return(0,v.jsx)("tr",{className:"align-top hover:bg-neutral-50",children:a.Children.toArray(e.map((function(e){var r,n=e.field;return(0,v.jsx)("td",{className:"p-1 border border-neutral-300",children:null!==(r=t[n])&&void 0!==r?r:"-"})})))})}))),!r&&(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:e.length,className:"p-2 text-center border border-neutral-300",children:n?"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435!":"\u0417\u0430\u043f\u0438\u0441\u0435\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e."})})]})},N=r(907);var L=r(181);function k(t){return function(t){if(Array.isArray(t))return(0,N.Z)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,L.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){try{var r=[+t,+e];return t=r[0],e=r[1],k(Array(e-t+1).keys()).map((function(e){return e+t}))}catch(n){return[]}}var _=function(t){var e=t.title,r=t.disabled,n=t.target,o=(0,y.lr)(),a=(0,i.Z)(o,2),c=a[0],s=a[1];return(0,v.jsx)("button",{className:x()("px-1 rounded-sm",r&&"opacity-30"),disabled:r,onClick:function(){r||(c.set("page",n),s(c))},children:e})},O=function(t){var e=t.columns,r=t.page,n=void 0===r?0:r,o=t.size,i=void 0===o?0:o,c=t.count,s=void 0===c?0:c,u=a.useMemo((function(){var t=[],e=Math.round(s/i);return t.push(e>1?e>2?[1,2,3]:[1,2]:[1]),t.push(S(n-1,n+1)),t.push(S(e-2,e)),t=k(new Set(t.flat())).filter((function(t){return t>0})),e>0?t:[]}),[n,i,s]);return(0,v.jsx)("tfoot",{children:(0,v.jsx)("tr",{className:"bg-neutral-200 border border-neutral-300",children:(0,v.jsx)("td",{colSpan:e.length,children:(0,v.jsxs)("div",{className:"container p-1 grid grid-cols-1 sm:grid-cols-2 grid-rows-2 sm:grid-rows-1 gap-1",children:[(0,v.jsx)("span",{className:"",children:(0,v.jsxs)("p",{className:"whitespace-nowrap",children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 ",n," \u0438\u0437 ",u.length," (",s," \u0437\u0430\u043f\u0438\u0441\u0435\u0439)"]})}),(0,v.jsxs)("span",{className:"flex flex-row flex-wrap justify-between sm:justify-end gap-1 sm:gap-2",children:[(0,v.jsx)(_,{title:"\ud83e\udc60",disabled:n<=1,target:n-1}),a.Children.toArray(u.map((function(t,e){return(0,v.jsxs)(v.Fragment,{children:[t-u[e-1]>1&&(0,v.jsx)(_,{title:"\u2219\u2219\u2219",disabled:!0}),(0,v.jsx)(_,{title:t,disabled:n===t,target:t})]})}))),(0,v.jsx)(_,{title:"\ud83e\udc62",disabled:n>=i,target:n+1})]})]})})})})},P=[{title:"\u041a\u043e\u0434",field:"code"},{title:"\u0418\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435",field:"name"},{title:"\u0411\u0438\u043e\u043c\u0430\u0442.",field:"biomaterialName"},{title:"\u0422\u0438\u043f \u0443\u0441\u043b\u0443\u0433\u0438",field:"researchName"}],I=function(t){var e=t.useFakeApi,r=(0,y.lr)(),c=(0,i.Z)(r,2),s=c[0],u=(c[1],a.useMemo((function(){var t,e=s.get("page"),r=s.get("size"),i=s.get("code"),a={},c=(0,o.Z)(P);try{for(c.s();!(t=c.n()).done;){var u=t.value,l=s.get("sort_".concat(u.field));if(l){var f="sort[".concat(Object.keys(a).length/2,"].");a[f+"key"]=u.field,a[f+"value"]=l}}}catch(d){c.e(d)}finally{c.f()}return(0,n.Z)((0,n.Z)({},a),{},{page:null!==e&&void 0!==e?e:"1",size:null!==r&&void 0!==r?r:"20"},i&&{code:i})}),[s])),l=e?p(u):h(u),f=l.data,d=l.isFetching,g=l.isError;return(0,v.jsxs)("div",{className:"container mx-auto py-4 flex flex-col gap-4 items-start",children:[(0,v.jsx)(m,{}),(0,v.jsxs)("table",{className:"relative table-auto w-full border-collapse text-left border border-neutral-300",children:[(0,v.jsx)(b,{loading:d}),(0,v.jsx)(j,{columns:P}),(0,v.jsx)(E,{columns:P,data:f,isError:g}),(0,v.jsx)(O,(0,n.Z)({columns:P},f))]}),(0,v.jsx)("p",{children:"\u0421\u043e\u0432\u0435\u0442: \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u0442\u043e\u043b\u0431\u0446\u0430, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0443."})]})}},694:function(t,e){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var i=typeof r;if("string"===i||"number"===i)t.push(r);else if(Array.isArray(r)){if(r.length){var a=o.apply(null,r);a&&t.push(a)}}else if("object"===i)if(r.toString===Object.prototype.toString)for(var c in r)n.call(r,c)&&r[c]&&t.push(c);else t.push(r.toString())}}return t.join(" ")}t.exports?(o.default=o,t.exports=o):void 0===(r=function(){return o}.apply(e,[]))||(t.exports=r)}()}}]);
//# sourceMappingURL=29.1ac5340d.chunk.js.map